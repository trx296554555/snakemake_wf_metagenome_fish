from snakemake.utils import min_version
import os

__AUTHOR__ = "Robin Tang"
__EMAIL__ = "rbio_tang@foxmail.com"

##### set minimum snakemake version #####
min_version("7.32.4")

##### set default params #####
configfile: "workflow/config/config.yaml"

#### include rules ####
include: "rules/preprocess.smk"
include: "rules/removeHost.smk"
include: "rules/readsAnnotation.smk"

rule all:
    input:
        "logs/01_check_run.log",
        # expand(config["root"] + "/" + config["folder"]["kraken2"] + "/{sample}.kraken",sample=get_run_sample())
        # "/home/user002/fish/02_kraken2/Y0119P.kraken",
        "/home/user002/fish/02_kraken2/Y0894C.kraken",
        "/home/user002/fish/02_kraken2/Y0894P.kraken",
        "/home/user002/fish/02_kraken2/Y0895C.kraken",
        "/home/user002/fish/02_kraken2/Y0895P.kraken"
    message:
        """
        Start to run the pipeline. --------------------------------------------------
        """
    log:
        "logs/all.log"
